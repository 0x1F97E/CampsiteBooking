@rendermode InteractiveServer

<MudDialog>
    <DialogContent>
        <MudPaper Elevation="0" Class="pa-4" Style="background-color: #f5f5f5;">
            <!-- Email Header -->
            <MudPaper Elevation="2" Class="pa-4 mb-3" Style="background-color: white;">
                <MudText Typo="Typo.h5" GutterBottom="true">@Subject</MudText>
                <MudDivider Class="my-2" />
                <MudText Typo="Typo.body2" Color="Color.Secondary">
                    <strong>From:</strong> Campsite Booking - @CampsiteName
                </MudText>
                <MudText Typo="Typo.body2" Color="Color.Secondary">
                    <strong>To:</strong> Newsletter Subscribers
                </MudText>
                <MudText Typo="Typo.body2" Color="Color.Secondary">
                    <strong>Date:</strong> @DateTime.Now.ToString("MMMM dd, yyyy")
                </MudText>
            </MudPaper>

            <!-- Email Body -->
            <MudPaper Elevation="2" Class="pa-4" Style="background-color: white;">
                <div style="white-space: pre-wrap; font-family: Arial, sans-serif; line-height: 1.6;">
                    @Content
                </div>

                <MudDivider Class="my-4" />

                <!-- Email Footer -->
                <MudText Typo="Typo.caption" Color="Color.Secondary" Align="Align.Center">
                    You're receiving this email because you subscribed to updates from @CampsiteName.
                </MudText>
                <MudText Typo="Typo.caption" Color="Color.Secondary" Align="Align.Center">
                    <MudLink Href="#" Color="Color.Secondary">Unsubscribe</MudLink> | 
                    <MudLink Href="#" Color="Color.Secondary">Update Preferences</MudLink>
                </MudText>
            </MudPaper>
        </MudPaper>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Close" Color="Color.Primary" Variant="Variant.Filled">Close</MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter] IMudDialogInstance MudDialog { get; set; } = null!;
    [Parameter] public string Subject { get; set; } = "";
    [Parameter] public string Content { get; set; } = "";
    [Parameter] public string CampsiteName { get; set; } = "";

    private void Close()
    {
        MudDialog.Close(DialogResult.Ok(true));
    }
}

